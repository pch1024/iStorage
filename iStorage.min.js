!function(e){"use strict";if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by iStorage,Please file a bug.");("undefined"!=typeof window?window:self).iStorage=e()}}(function(){function e(){this.data={iStorage:null},this.tip="value only support Number(not include NaN)、String、Array、JSON ！But you gave："}return e.prototype.handlerValue=function(e){var t=Object.prototype.toString.call(e);switch(t){case"[object Number]":if(isNaN(e))throw this.tip+"NaN";this.data.iStorage=e;break;case"[object String]":case"[object Array]":case"[object Object]":this.data.iStorage=e;break;default:throw this.tip+t}return JSON.stringify(this.data)},e.prototype.getLength=function(e){return e&&console.log("Local Storage length is ",localStorage.length),localStorage.length},e.prototype.getIndex=function(e,t){if("[object Number]"===Object.prototype.toString.call(e)&&!isNaN(e))return t&&console.log("index: ",e,"is",localStorage.key(e)),localStorage.key(e);console.log("Key must number!")},e.prototype.getItem=function(e,t){return localStorage.getItem(e)?(t&&console.log("get success: ",e,JSON.parse(localStorage.getItem(e)).iStorage),JSON.parse(localStorage.getItem(e)).iStorage):(t&&console.log("get failure:",e),localStorage.getItem(e))},e.prototype.setItem=function(e,t,o){return t=this.handlerValue(t),localStorage.setItem(e,t),o&&console.log("set success: ",e,t),this.getItem(e)},e.prototype.removeItem=function(e,t){return t&&localStorage.getItem(e)?console.log("remove success: ",e,this.getItem(e)):console.log("remove failure: not find ",e),localStorage.removeItem(e),this.getItem(e)},e.prototype.clearAll=function(e){e&&console.log("Clear done !"),localStorage.clear()},new e});